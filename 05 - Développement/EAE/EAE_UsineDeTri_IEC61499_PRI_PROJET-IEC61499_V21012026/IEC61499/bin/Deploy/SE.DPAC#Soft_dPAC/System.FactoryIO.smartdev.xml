<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE System SYSTEM "../LibraryElement.dtd">
<System Name="System">
  <Device ID="1f57b87a-52a6-47c9-9509-d7b4e1173fed" Name="FactoryIO" Type="Soft_dPAC" Namespace="SE.DPAC">
    <Resource ID="88B0C721AD29AD4B" Name="RES0" Type="EMB_RES_ECO" Namespace="Runtime.Management">
      <FBNetwork>
        <FB ID="3E030C9E274098EE" Name="FB1" Type="DPAC_FULLINIT" x="1060" y="180" Namespace="SE.DPAC" Loaded="true" />
        <FB ID="CBC4EF5E5F5CFDEC" Name="Sorter1" Type="EQUIP_Sorter" x="5220" y="280" Namespace="Main">
          <Parameter Name="My_ID" Value="1" />
          <Parameter Name="TurnPath" Value="'Sorter_1_turn'" />
          <Parameter Name="BeltPath" Value="'Sorter_1_belt'" />
          <Parameter Name="QI" Value="TRUE" />
        </FB>
        <FB ID="130CADB7488143B2" Name="Sorter2" Type="EQUIP_Sorter" x="5220" y="1160" Namespace="Main">
          <Parameter Name="My_ID" Value="2" />
          <Parameter Name="BeltPath" Value="'Sorter_2_belt'" />
          <Parameter Name="TurnPath" Value="'Sorter_2_turn'" />
          <Parameter Name="QI" Value="TRUE" />
        </FB>
        <FB ID="32F897FE7AB7761F" Name="Sorter3" Type="EQUIP_Sorter" x="5240" y="2020" Namespace="Main">
          <Parameter Name="My_ID" Value="3" />
          <Parameter Name="TurnPath" Value="'Sorter_3_turn'" />
          <Parameter Name="BeltPath" Value="'Sorter_3_belt'" />
          <Parameter Name="QI" Value="TRUE" />
        </FB>
        <FB ID="9E7DF1BD71F7138F" Name="TriManager" Type="EQUIP_TRIManager" x="3020" y="820" Namespace="Main">
          <Parameter Name="QI" Value="TRUE" />
        </FB>
        <FB ID="7736A8546AA944C" Name="ExitConv" Type="EQUIP_ExitConveyor" x="2040" y="2220" Namespace="Main">
          <Parameter Name="QI" Value="TRUE" />
        </FB>
        <FB ID="C34152D58763523" Name="Vision" Type="EQUIP_VisionSensor" x="1900" y="1100" Namespace="Main">
          <Parameter Name="QI" Value="TRUE" />
        </FB>
        <FB ID="4681CFACAD5C8F98" Name="EntryConv" Type="EQUIP_EntryConveyor" x="720" y="1100" Namespace="Main">
          <Parameter Name="QI" Value="TRUE" />
        </FB>
        <FB ID="E6C2D10D10E8AF11" Name="MODBUS" Type="MODBUS" x="0" y="0" Namespace="Standard.IoModbus">
          <Parameter Name="autoStart" Value="TRUE" />
          <Parameter Name="BUS_ID" Value="'MODBUS'" />
          <Parameter Name="enableSymlinkOC" Value="FALSE" />
          <Parameter Name="phase" Value="T#0ms" />
          <Parameter Name="busCycleTime" Value="T#200ms" />
          <Parameter Name="busCycleTolerance" Value="10" />
          <Parameter Name="busCycleActionWhenMissed" Value="1" />
          <Parameter Name="alignWithResPriority" Value="FALSE" />
        </FB>
        <FB ID="FE6E6C6F0DF556" Name="MODBUSGENTCPS" Type="MODBUSGENTCPS" x="0" y="0" Namespace="Standard.IoModbus">
          <Parameter Name="connStatus" Value="''" />
          <Parameter Name="connStatusInt" Value="''" />
          <Parameter Name="connDisable" Value="''" />
          <Parameter Name="SLAVE_BUS_ID" Value="'MODBUSGENTCPS'" />
        </FB>
        <FB ID="4CEC2C6D0CFDB490" Name="MODBUSRCOIL8" Type="MODBUSRCOIL8" x="0" y="0" Namespace="Standard.IoModbus">
          <Parameter Name="r0LinkName" Value="'At_exit'" />
          <Parameter Name="r1LinkName" Value="'Start'" />
          <Parameter Name="r2LinkName" Value="'Reset'" />
          <Parameter Name="r3LinkName" Value="'Stop'" />
          <Parameter Name="r4LinkName" Value="'AU'" />
          <Parameter Name="r5LinkName" Value="'Auto'" />
          <Parameter Name="r6LinkName" Value="'RES0.FactoryIO_Run'" />
          <Parameter Name="r7LinkName" Value="'Presence_sensor'" />
          <Parameter Name="reqReadLinkName" Value="''" />
        </FB>
        <FB ID="FD20CC53DD80D5F6" Name="MODBUSWCOIL8" Type="MODBUSWCOIL8" x="0" y="0" Namespace="Standard.IoModbus">
          <Parameter Name="r0LinkName" Value="'Entry_conveyor'" />
          <Parameter Name="r1LinkName" Value="'Stop_blade'" />
          <Parameter Name="r2LinkName" Value="'Exit_conveyor'" />
          <Parameter Name="r3LinkName" Value="'Sorter_1_turn'" />
          <Parameter Name="r4LinkName" Value="'Sorter_1_belt'" />
          <Parameter Name="r5LinkName" Value="'Sorter_2_turn'" />
          <Parameter Name="r6LinkName" Value="'Sorter_2_belt'" />
          <Parameter Name="r7LinkName" Value="'Sorter_3_turn'" />
        </FB>
        <FB ID="AA7274163D2B68F8" Name="MODBUSWCOIL8_1" Type="MODBUSWCOIL8" x="0" y="0" Namespace="Standard.IoModbus">
          <Parameter Name="r0LinkName" Value="'Sorter_3_belt'" />
          <Parameter Name="r1LinkName" Value="'Start_light'" />
          <Parameter Name="r2LinkName" Value="'Reset_light'" />
          <Parameter Name="r3LinkName" Value="'Stop_light'" />
          <Parameter Name="r4LinkName" Value="''" />
          <Parameter Name="r5LinkName" Value="''" />
          <Parameter Name="r6LinkName" Value="''" />
          <Parameter Name="r7LinkName" Value="''" />
        </FB>
        <FB ID="877FB2C015EDA55C" Name="MODBUSRREG1" Type="MODBUSRREG1" x="0" y="0" Namespace="Standard.IoModbus">
          <Parameter Name="r0LinkName" Value="'Vision_Sensor'" />
          <Parameter Name="reqReadLinkName" Value="''" />
        </FB>
        <FB ID="8B07BF6AF2BE0FF3" Name="MODBUSWREG4" Type="MODBUSWREG4" x="0" y="0" Namespace="Standard.IoModbus">
          <Parameter Name="r0LinkName" Value="'RES0.Counter_1'" />
          <Parameter Name="r1LinkName" Value="'RES0.Counter_2'" />
          <Parameter Name="r2LinkName" Value="'RES0.Counter_3'" />
          <Parameter Name="r3LinkName" Value="''" />
        </FB>
        <FB ID="9434EDBB3603C531" Name="MODBUSGENTCPS_END_1" Type="MODBUSSLOTEND" x="0" y="0" Namespace="Standard.IoModbus" />
        <FB ID="6F48E3E09B4FEE0E" Name="MODBUS_END_1" Type="MODBUSSLAVEND" x="0" y="0" Namespace="Standard.IoModbus" />
        <FB Name="START" Type="E_RESTART" x="80" y="100" Namespace="IEC61499.Standard" />
        <EventConnections>
          <Connection Source="START.COLD" Destination="FB1.INIT" dx1="158.6041">
            <AvoidsNodes>false</AvoidsNodes>
          </Connection>
          <Connection Source="START.WARM" Destination="FB1.INIT" dx1="68.60419" />
          <Connection Source="START.ONLINECHANGE" Destination="FB1.OC_RETRIGGER" dx1="90" />
          <Connection Source="EntryConv.INITO" Destination="Vision.INIT" />
          <Connection Source="Vision.INITO" Destination="TriManager.INIT" dx1="54.66675" />
          <Connection Source="TriManager.INITO" Destination="ExitConv.INIT" dx1="181.5417" dx2="120" dy="1980">
            <AvoidsNodes>false</AvoidsNodes>
          </Connection>
          <Connection Source="ExitConv.INITO" Destination="Sorter1.INIT" dx1="41.54199">
            <AvoidsNodes>false</AvoidsNodes>
          </Connection>
          <Connection Source="Sorter1.INITO" Destination="Sorter2.INIT" dx1="83.271" dx2="40" dy="780">
            <AvoidsNodes>false</AvoidsNodes>
          </Connection>
          <Connection Source="Sorter2.INITO" Destination="Sorter3.INIT" dx1="103.271" dx2="50" dy="740">
            <AvoidsNodes>false</AvoidsNodes>
          </Connection>
          <Connection Source="EntryConv.PIECE_PRESENTE" Destination="Vision.PIECE_PRESENTE" />
          <Connection Source="ExitConv.PIECE_SORTIE" Destination="TriManager.PIECE_SORTIE" dx1="141.542">
            <AvoidsNodes>false</AvoidsNodes>
          </Connection>
          <Connection Source="FB1.INITO" Destination="EntryConv.INIT" dx1="40" dx2="50" dy="350" />
          <Connection Source="EntryConv.CNF" Destination="Vision.REQ" />
          <Connection Source="Vision.CNF" Destination="TriManager.REQ" dx1="104.6667">
            <AvoidsNodes>false</AvoidsNodes>
          </Connection>
          <Connection Source="TriManager.CNF" Destination="ExitConv.REQ" dx1="140" dx2="70" dy="1880">
            <AvoidsNodes>false</AvoidsNodes>
          </Connection>
          <Connection Source="ExitConv.CNF" Destination="Sorter1.REQ" dx1="81.54199">
            <AvoidsNodes>false</AvoidsNodes>
          </Connection>
          <Connection Source="Sorter1.CNF" Destination="Sorter2.REQ" dx1="43.271" dx2="80" dy="680">
            <AvoidsNodes>false</AvoidsNodes>
          </Connection>
          <Connection Source="Sorter2.CNF" Destination="Sorter3.REQ" dx1="63.271" dx2="100" dy="620">
            <AvoidsNodes>false</AvoidsNodes>
          </Connection>
          <Connection Source="TriManager.BLOCK" Destination="EntryConv.BLOCK" dx1="61.54175" dx2="120" dy="-230">
            <AvoidsNodes>false</AvoidsNodes>
          </Connection>
          <Connection Source="TriManager.UNBLOCK" Destination="EntryConv.UNBLOCK" dx1="101.5417" dx2="200" dy="-340">
            <AvoidsNodes>false</AvoidsNodes>
          </Connection>
          <Connection Source="EntryConv.AU_OUT" Destination="TriManager.AU">
            <Attribute Name="Configuration.Connections.CrossReference" Value="True" />
          </Connection>
          <Connection Source="EntryConv.RESET_OUT" Destination="TriManager.RESET" dx1="130">
            <AvoidsNodes>false</AvoidsNodes>
          </Connection>
          <Connection Source="EntryConv.AU_OUT" Destination="Sorter3.AU">
            <Attribute Name="Configuration.Connections.CrossReference" Value="True" />
          </Connection>
          <Connection Source="EntryConv.AU_OUT" Destination="Sorter2.AU">
            <Attribute Name="Configuration.Connections.CrossReference" Value="True" />
          </Connection>
          <Connection Source="EntryConv.AU_OUT" Destination="Sorter1.AU" dx1="3012.167">
            <Attribute Name="Configuration.Connections.CrossReference" Value="True" />
            <AvoidsNodes>false</AvoidsNodes>
          </Connection>
        </EventConnections>
        <DataConnections>
          <Connection Source="TriManager.Exit_conveyor" Destination="ExitConv.Exit_conveyor" dx1="81.54175" dx2="20" dy="1320">
            <AvoidsNodes>false</AvoidsNodes>
          </Connection>
          <Connection Source="TriManager.Sorter_Actif" Destination="Sorter1.Sorter_Actif" dx1="821.5417">
            <AvoidsNodes>false</AvoidsNodes>
          </Connection>
          <Connection Source="TriManager.Sorter_Actif" Destination="Sorter2.Sorter_Actif" dx1="821.5417">
            <AvoidsNodes>false</AvoidsNodes>
          </Connection>
          <Connection Source="TriManager.Sorter_Actif" Destination="Sorter3.Sorter_Actif" dx1="821.5417">
            <AvoidsNodes>false</AvoidsNodes>
          </Connection>
          <Connection Source="ExitConv.At_exit_Value" Destination="TriManager.At_exit" dx1="181.542">
            <AvoidsNodes>false</AvoidsNodes>
          </Connection>
        </DataConnections>
        <AdapterConnections>
          <Connection Source="TriManager.CouleurIn" Destination="Vision.CouleurOut" dx1="41.54175" dx2="30" dy="90">
            <AvoidsNodes>false</AvoidsNodes>
          </Connection>
          <Connection Source="MODBUS.busOut" Destination="MODBUSGENTCPS.busIn" />
          <Connection Source="MODBUSGENTCPS.slotBus" Destination="MODBUSRCOIL8.BUSIN" />
          <Connection Source="MODBUSRCOIL8.BUSOUT" Destination="MODBUSWCOIL8.BUSIN" />
          <Connection Source="MODBUSWCOIL8.BUSOUT" Destination="MODBUSWCOIL8_1.BUSIN" />
          <Connection Source="MODBUSWCOIL8_1.BUSOUT" Destination="MODBUSRREG1.BUSIN" />
          <Connection Source="MODBUSRREG1.BUSOUT" Destination="MODBUSWREG4.BUSIN" />
          <Connection Source="MODBUSWREG4.BUSOUT" Destination="MODBUSGENTCPS_END_1.BusIn" />
          <Connection Source="MODBUSGENTCPS.busOut" Destination="MODBUS_END_1.BusIn" />
        </AdapterConnections>
      </FBNetwork>
    </Resource>
    <FBNetwork />
  </Device>
</System>